"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getSubtitlesContent = exports.getSubtitles = exports.YoutubeCaption = void 0;
const crawler_1 = require("./crawler");
const YoutubeCaption_1 = require("./YoutubeCaption");
Object.defineProperty(exports, "YoutubeCaption", { enumerable: true, get: function () { return YoutubeCaption_1.YoutubeCaption; } });
const defaultRequester = new crawler_1.SuperAgentRequester({});
/**
 * Retrieves Subtitles for certain youtube video
 *
 * @export
 * @param {ISubtitleOptions} {
 * 	videoID,
 * 	lang = 'en',
 * }
 * @returns {Promise<ISubtitle[]} subtitles
 */
async function getSubtitles({ videoID, lang = "en", requester = defaultRequester }) {
    const youtubeCaptions = new YoutubeCaption_1.YoutubeCaption(videoID, requester);
    return await youtubeCaptions.getSubtitles(lang);
}
exports.getSubtitles = getSubtitles;
/**
 * Retrieves Subtitles for certain youtube video
 *
 * @export
 * @param {ISubtitleOptions} {
 * 	videoID,
 * 	lang = 'en',
 * }
 * @returns {string} subtitles
 */
async function getSubtitlesContent({ videoID, lang = "en", requester = defaultRequester }) {
    const subtitles = await getSubtitles({ videoID, lang, requester });
    let content = "";
    for (const subtitle of subtitles) {
        content += " " + subtitle.text;
    }
    return content.replace(/([\s\r\n])+/g, " ").trim();
}
exports.getSubtitlesContent = getSubtitlesContent;
//# sourceMappingURL=index.js.map